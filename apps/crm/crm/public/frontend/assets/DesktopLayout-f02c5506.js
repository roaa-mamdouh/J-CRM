import{_ as W}from"./Section-8b41410b.js";import{E as U}from"./Email2Icon-114a3543.js";import{P as q}from"./PinIcon-b877dc18.js";import{_ as Q,a as I,C as Y}from"./CallUI-c326d6c8.js";import{L as D}from"./LeadsIcon-86dc61b1.js";import{D as M}from"./DealsIcon-c75ef9a8.js";import{C as P}from"./ContactsIcon-3965efd8.js";import{O as T}from"./OrganizationsIcon-18979377.js";import{N as O}from"./NoteModal-ee3b9103.js";import{T as G}from"./TaskIcon-a509cbac.js";import{P as V}from"./PhoneIcon-206b2bf3.js";import{_ as J,b as a,c as l,e as t,l as K,o as X,a as Z,r as C,u as s,t as m,d as n,w as _,F as S,f as B,g as h,n as f,S as ee,p as w,z as j,j as te,B as se,D as oe,Q as ae}from"./index-94cddbf2.js";import{n as F,a as N,v as E,N as H,u as z}from"./notifications-f10717af.js";import{W as ne}from"./WhatsAppIcon-c40bbe0a.js";import{M as le}from"./MarkAsDoneIcon-8e7573c5.js";import{g as ie,_ as R,a as re,t as ce}from"./index-79582337.js";import{o as de,u as _e}from"./Dropdown.vue_vue_type_script_setup_true_lang-f30ca23a.js";import{v as ue}from"./views-29c7636e.js";import"./FileUploader-22e9b494.js";import"./Fields-0a7d93b5.js";import"./IndicatorIcon-4dd9059c.js";import"./DatePicker.vue_vue_type_script_setup_true_lang-3cf9a372.js";import"./settings-76fff180.js";import"./contacts-945ac9fb.js";import"./ArrowUpRightIcon-1f7d0656.js";const me={},pe={width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fe=t("path",{d:"M10.875 9.06223L3 9.06232",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),he=t("path",{d:"M6.74537 5.31699L3 9.06236L6.74527 12.8076",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),ge=t("path",{d:"M14.1423 4L14.1423 14.125",stroke:"currentColor","stroke-linecap":"round"},null,-1),xe=[fe,he,ge];function be(g,d){return a(),l("svg",pe,xe)}const ve=J(me,[["render",be]]),ye={class:"flex h-screen flex-col"},ke={class:"z-20 flex items-center justify-between border-b bg-white px-5 py-2.5"},Ce={class:"text-base font-medium"},we={class:"flex gap-1"},$e={key:0,class:"divide-y overflow-auto text-base"},Le={class:"mt-1 flex items-center gap-2.5"},Ie=["innerHTML"],Ne={key:1,class:"mb-2 space-x-1 leading-5 text-gray-600"},ze={class:"font-medium text-gray-900"},Se={class:"font-medium text-gray-900"},Be={class:"text-sm text-gray-600"},Ae={key:1,class:"flex flex-1 flex-col items-center justify-center gap-2"},De={class:"text-lg font-medium text-gray-500"},Me={__name:"Notifications",setup(g){const{$socket:d}=ie(),{mark_as_read:p,toggle:x,mark_doc_as_read:r}=F(),b=K(null);de(b,()=>{E.value&&x()},{ignore:["#notifications-btn"]});function $(e){j("notification_mark_as_read"),r(e)}function v(){j("notification_mark_all_as_read"),p.reload()}X(()=>{d.off("crm_notification")}),Z(()=>{d.on("crm_notification",()=>{N.reload()})});function L(e){let o={leadId:e.reference_name};return e.route_name==="Deal"&&(o={dealId:e.reference_name}),{name:e.route_name,params:o,hash:e.hash}}return(e,o)=>{var u;const y=C("Button"),c=C("FeatherIcon"),k=C("RouterLink");return s(E)?(a(),l("div",{key:0,ref_key:"target",ref:b,class:"absolute z-20 h-screen bg-white transition-all duration-300 ease-in-out",style:ee({"box-shadow":"8px 0px 8px rgba(0, 0, 0, 0.1)","max-width":"350px","min-width":"350px",left:"calc(100% + 1px)"})},[t("div",ye,[t("div",ke,[t("div",Ce,m(e.__("Notifications")),1),t("div",we,[n(s(R),{text:e.__("Mark all as read")},{default:_(()=>[t("div",null,[n(y,{variant:"ghost",onClick:o[0]||(o[0]=()=>v())},{icon:_(()=>[n(le,{class:"h-4 w-4"})]),_:1})])]),_:1},8,["text"]),n(s(R),{text:e.__("Close")},{default:_(()=>[t("div",null,[n(y,{variant:"ghost",onClick:o[1]||(o[1]=()=>s(x)())},{icon:_(()=>[n(c,{name:"x",class:"h-4 w-4"})]),_:1})])]),_:1},8,["text"])])]),(u=s(N).data)!=null&&u.length?(a(),l("div",$e,[(a(!0),l(S,null,B(s(N).data,i=>(a(),h(k,{key:i.comment,to:L(i),class:"flex cursor-pointer items-start gap-2.5 px-4 py-2.5 hover:bg-gray-100",onClick:A=>$(i.comment||i.notification_type_doc)},{default:_(()=>[t("div",Le,[t("div",{class:f(["size-[5px] rounded-full",[i.read?"bg-transparent":"bg-gray-900"]])},null,2),i.type=="WhatsApp"?(a(),h(ne,{key:0,class:"size-7"})):(a(),h(re,{key:1,user:i.from_user.name,size:"lg"},null,8,["user"]))]),t("div",null,[i.notification_text?(a(),l("div",{key:0,innerHTML:i.notification_text},null,8,Ie)):(a(),l("div",Ne,[t("span",ze,m(i.from_user.full_name),1),t("span",null,m(e.__("mentioned you in {0}",[i.reference_doctype])),1),t("span",Se,m(i.reference_name),1)])),t("div",Be,m(e.__(s(ce)(i.creation))),1)])]),_:2},1032,["to","onClick"]))),128))])):(a(),l("div",Ae,[n(H,{class:"h-20 w-20 text-gray-300"}),t("div",De,m(e.__("No new notifications")),1)]))])],4)):w("",!0)}}},Pe={class:"flex-1 overflow-y-auto"},Te={class:"mb-3 flex flex-col"},Oe={key:1,class:"absolute -left-1.5 top-1 z-20 h-[5px] w-[5px] translate-x-6 translate-y-1 rounded-full bg-gray-800 ring-1 ring-white"},Ve={key:0,class:"mx-2 my-2 h-1 border-b"},je=["onClick"],Ee={class:"flex flex-col"},Re={class:"m-2 flex flex-col gap-1"},Fe={class:"grid h-4.5 w-4.5 flex-shrink-0 place-items-center"},He={__name:"AppSidebar",setup(g){const{getPinnedViews:d,getPublicViews:p}=ue(),{toggle:x}=F(),r=_e("isSidebarCollapsed",!1),b=[{label:"Leads",icon:D,to:"Leads"},{label:"Deals",icon:M,to:"Deals"},{label:"Contacts",icon:P,to:"Contacts"},{label:"Organizations",icon:T,to:"Organizations"},{label:"Notes",icon:O,to:"Notes"},{label:"Tasks",icon:G,to:"Tasks"},{label:"Call Logs",icon:V,to:"Call Logs"},{label:"Email Templates",icon:U,to:"Email Templates"}],$=te(()=>{let e=[{name:"All Views",hideLabel:!0,opened:!0,views:b}];return p().length&&e.push({name:"Public views",opened:!0,views:v(p())}),d().length&&e.push({name:"Pinned views",opened:!0,views:v(d())}),e});function v(e){return e.map(o=>({label:o.label,icon:L(o.route_name,o.icon),to:{name:o.route_name,params:{viewType:o.type||"list"},query:{view:o.name}}}))}function L(e,o){if(o)return se("div",{class:"size-auto"},o);switch(e){case"Leads":return D;case"Deals":return M;case"Contacts":return P;case"Organizations":return T;case"Notes":return O;case"Call Logs":return V;default:return q}}return(e,o)=>{const y=C("Badge");return a(),l("div",{class:f(["relative flex h-full flex-col justify-between transition-all duration-300 ease-in-out",s(r)?"w-12":"w-[220px]"])},[t("div",null,[n(Q,{class:"p-2",isCollapsed:s(r)},null,8,["isCollapsed"])]),t("div",Pe,[t("div",Te,[n(I,{id:"notifications-btn",label:e.__("Notifications"),icon:H,isCollapsed:s(r),onClick:o[0]||(o[0]=()=>s(x)()),class:"relative mx-2 my-0.5"},{right:_(()=>[!s(r)&&s(z)?(a(),h(y,{key:0,label:s(z),variant:"subtle"},null,8,["label"])):s(z)?(a(),l("div",Oe)):w("",!0)]),_:1},8,["label","isCollapsed"])]),(a(!0),l(S,null,B($.value,c=>{var k;return a(),l("div",{key:c.label},[!c.hideLabel&&s(r)&&((k=c.views)!=null&&k.length)?(a(),l("div",Ve)):w("",!0),n(W,{label:c.name,hideLabel:c.hideLabel,isOpened:c.opened},{header:_(({opened:u,hide:i,toggle:A})=>[i?w("",!0):(a(),l("div",{key:0,class:f(["flex cursor-pointer gap-1.5 px-1 text-base font-medium text-gray-600 transition-all duration-300 ease-in-out",s(r)?"ml-0 h-0 overflow-hidden opacity-0":"ml-2 mt-4 h-7 w-auto opacity-100"]),onClick:Ke=>A()},[n(s(oe),{name:"chevron-right",class:f(["h-4 text-gray-900 transition-all duration-300 ease-in-out",{"rotate-90":u}])},null,8,["class"]),t("span",null,m(e.__(c.name)),1)],10,je))]),default:_(()=>[t("nav",Ee,[(a(!0),l(S,null,B(c.views,u=>(a(),h(I,{icon:u.icon,label:e.__(u.label),to:u.to,isCollapsed:s(r),class:"mx-2 my-0.5"},null,8,["icon","label","to","isCollapsed"]))),256))])]),_:2},1032,["label","hideLabel","isOpened"])])}),128))]),t("div",Re,[n(I,{label:s(r)?e.__("Expand"):e.__("Collapse"),isCollapsed:s(r),onClick:o[1]||(o[1]=c=>r.value=!s(r)),class:""},{icon:_(()=>[t("span",Fe,[n(ve,{class:f(["h-4.5 w-4.5 text-gray-700 duration-300 ease-in-out",{"[transform:rotateY(180deg)]":s(r)}])},null,8,["class"])])]),_:1},8,["label","isCollapsed"])]),n(Me)],2)}}},We={class:"flex border-b pr-5"},Ue=t("div",{id:"app-header",class:"flex-1"},null,-1),qe={class:"flex items-center justify-center"},Qe={__name:"AppHeader",setup(g){return(d,p)=>(a(),l("div",We,[Ue,t("div",qe,[n(Y)])]))}},Ye={class:"flex h-screen w-screen"},Ge={class:"h-full border-r bg-gray-50"},Je={class:"flex-1 flex flex-col h-full overflow-auto"},Ct={__name:"DesktopLayout",setup(g){return(d,p)=>(a(),l("div",Ye,[t("div",Ge,[n(He)]),t("div",Je,[n(Qe),ae(d.$slots,"default")])]))}};export{Ct as default};
//# sourceMappingURL=DesktopLayout-f02c5506.js.map
