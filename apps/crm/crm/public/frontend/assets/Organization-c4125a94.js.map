{"version":3,"file":"Organization-c4125a94.js","sources":["../../../../frontend/src/pages/Organization.vue"],"sourcesContent":["<template>\n  <LayoutHeader v-if=\"organization.doc\">\n    <template #left-header>\n      <Breadcrumbs :items=\"breadcrumbs\">\n        <template #prefix=\"{ item }\">\n          <Icon v-if=\"item.icon\" :icon=\"item.icon\" class=\"mr-2 h-4\" />\n        </template>\n      </Breadcrumbs>\n    </template>\n  </LayoutHeader>\n  <div ref=\"parentRef\" class=\"flex h-full\">\n    <Resizer\n      v-if=\"organization.doc\"\n      :parent=\"$refs.parentRef\"\n      class=\"flex h-full flex-col overflow-hidden border-r\"\n    >\n      <div class=\"border-b\">\n        <FileUploader\n          @success=\"changeOrganizationImage\"\n          :validateFile=\"validateFile\"\n        >\n          <template #default=\"{ openFileSelector, error }\">\n            <div class=\"flex flex-col items-start justify-start gap-4 p-5\">\n              <div class=\"flex gap-4 items-center\">\n                <div class=\"group relative h-15.5 w-15.5\">\n                  <Avatar\n                    size=\"3xl\"\n                    class=\"h-15.5 w-15.5\"\n                    :label=\"organization.doc.organization_name\"\n                    :image=\"organization.doc.organization_logo\"\n                  />\n                  <component\n                    :is=\"organization.doc.image ? Dropdown : 'div'\"\n                    v-bind=\"\n                      organization.doc.image\n                        ? {\n                            options: [\n                              {\n                                icon: 'upload',\n                                label: organization.doc.image\n                                  ? __('Change image')\n                                  : __('Upload image'),\n                                onClick: openFileSelector,\n                              },\n                              {\n                                icon: 'trash-2',\n                                label: __('Remove image'),\n                                onClick: () => changeOrganizationImage(''),\n                              },\n                            ],\n                          }\n                        : { onClick: openFileSelector }\n                    \"\n                    class=\"!absolute bottom-0 left-0 right-0\"\n                  >\n                    <div\n                      class=\"z-1 absolute bottom-0 left-0 right-0 flex h-14 cursor-pointer items-center justify-center rounded-b-full bg-black bg-opacity-40 pt-5 opacity-0 duration-300 ease-in-out group-hover:opacity-100\"\n                      style=\"\n                        -webkit-clip-path: inset(22px 0 0 0);\n                        clip-path: inset(22px 0 0 0);\n                      \"\n                    >\n                      <CameraIcon class=\"h-6 w-6 cursor-pointer text-white\" />\n                    </div>\n                  </component>\n                </div>\n                <div class=\"flex flex-col gap-2 truncate\">\n                  <div class=\"truncate text-2xl font-medium\">\n                    <span>{{ organization.doc.name }}</span>\n                  </div>\n                  <div\n                    v-if=\"organization.doc.website\"\n                    class=\"flex items-center gap-1.5 text-base text-gray-800\"\n                  >\n                    <WebsiteIcon class=\"size-4\" />\n                    <span>{{ website(organization.doc.website) }}</span>\n                  </div>\n                  <ErrorMessage :message=\"__(error)\" />\n                </div>\n              </div>\n              <div class=\"flex gap-1.5\">\n                <Button\n                  :label=\"__('Delete')\"\n                  theme=\"red\"\n                  size=\"sm\"\n                  @click=\"deleteOrganization\"\n                >\n                  <template #prefix>\n                    <FeatherIcon name=\"trash-2\" class=\"h-4 w-4\" />\n                  </template>\n                </Button>\n                <Tooltip :text=\"__('Open website')\">\n                  <div>\n                    <Button @click=\"openWebsite\">\n                      <FeatherIcon name=\"link\" class=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </Tooltip>\n              </div>\n            </div>\n          </template>\n        </FileUploader>\n      </div>\n      <div\n        v-if=\"fieldsLayout.data\"\n        class=\"flex flex-1 flex-col justify-between overflow-hidden\"\n      >\n        <div class=\"flex flex-col overflow-y-auto\">\n          <div\n            v-for=\"(section, i) in fieldsLayout.data\"\n            :key=\"section.label\"\n            class=\"flex flex-col p-3\"\n            :class=\"{ 'border-b': i !== fieldsLayout.data.length - 1 }\"\n          >\n            <Section :is-opened=\"section.opened\" :label=\"section.label\">\n              <template #actions>\n                <Button\n                  v-if=\"i == 0 && isManager()\"\n                  variant=\"ghost\"\n                  class=\"w-7\"\n                  @click=\"showSidePanelModal = true\"\n                >\n                  <EditIcon class=\"h-4 w-4\" />\n                </Button>\n              </template>\n              <SectionFields\n                v-if=\"section.fields\"\n                :fields=\"section.fields\"\n                :isLastSection=\"i == fieldsLayout.data.length - 1\"\n                v-model=\"organization.doc\"\n                @update=\"updateField\"\n              />\n            </Section>\n          </div>\n        </div>\n      </div>\n    </Resizer>\n    <Tabs class=\"overflow-hidden\" v-model=\"tabIndex\" :tabs=\"tabs\">\n      <template #tab=\"{ tab, selected }\">\n        <button\n          class=\"group flex items-center gap-2 border-b border-transparent py-2.5 text-base text-gray-600 duration-300 ease-in-out hover:border-gray-400 hover:text-gray-900\"\n          :class=\"{ 'text-gray-900': selected }\"\n        >\n          <component v-if=\"tab.icon\" :is=\"tab.icon\" class=\"h-5\" />\n          {{ __(tab.label) }}\n          <Badge\n            class=\"group-hover:bg-gray-900\"\n            :class=\"[selected ? 'bg-gray-900' : 'bg-gray-600']\"\n            variant=\"solid\"\n            theme=\"gray\"\n            size=\"sm\"\n          >\n            {{ tab.count }}\n          </Badge>\n        </button>\n      </template>\n      <template #default=\"{ tab }\">\n        <DealsListView\n          class=\"mt-4\"\n          v-if=\"tab.label === 'Deals' && rows.length\"\n          :rows=\"rows\"\n          :columns=\"columns\"\n          :options=\"{ selectable: false, showTooltip: false }\"\n        />\n        <ContactsListView\n          class=\"mt-4\"\n          v-if=\"tab.label === 'Contacts' && rows.length\"\n          :rows=\"rows\"\n          :columns=\"columns\"\n          :options=\"{ selectable: false, showTooltip: false }\"\n        />\n        <div\n          v-if=\"!rows.length\"\n          class=\"grid flex-1 place-items-center text-xl font-medium text-gray-500\"\n        >\n          <div class=\"flex flex-col items-center justify-center space-y-3\">\n            <component :is=\"tab.icon\" class=\"!h-10 !w-10\" />\n            <div>{{ __('No {0} Found', [__(tab.label)]) }}</div>\n          </div>\n        </div>\n      </template>\n    </Tabs>\n  </div>\n  <SidePanelModal\n    v-if=\"showSidePanelModal\"\n    v-model=\"showSidePanelModal\"\n    doctype=\"CRM Organization\"\n    @reload=\"() => fieldsLayout.reload()\"\n  />\n  <QuickEntryModal\n    v-if=\"showQuickEntryModal\"\n    v-model=\"showQuickEntryModal\"\n    doctype=\"CRM Organization\"\n  />\n  <AddressModal v-model=\"showAddressModal\" v-model:address=\"_address\" />\n</template>\n\n<script setup>\nimport Resizer from '@/components/Resizer.vue'\nimport Section from '@/components/Section.vue'\nimport SectionFields from '@/components/SectionFields.vue'\nimport SidePanelModal from '@/components/Settings/SidePanelModal.vue'\nimport Icon from '@/components/Icon.vue'\nimport LayoutHeader from '@/components/LayoutHeader.vue'\nimport QuickEntryModal from '@/components/Modals/QuickEntryModal.vue'\nimport AddressModal from '@/components/Modals/AddressModal.vue'\nimport DealsListView from '@/components/ListViews/DealsListView.vue'\nimport ContactsListView from '@/components/ListViews/ContactsListView.vue'\nimport WebsiteIcon from '@/components/Icons/WebsiteIcon.vue'\nimport EditIcon from '@/components/Icons/EditIcon.vue'\nimport CameraIcon from '@/components/Icons/CameraIcon.vue'\nimport DealsIcon from '@/components/Icons/DealsIcon.vue'\nimport ContactsIcon from '@/components/Icons/ContactsIcon.vue'\nimport { globalStore } from '@/stores/global'\nimport { usersStore } from '@/stores/users'\nimport { statusesStore } from '@/stores/statuses'\nimport { getView } from '@/utils/view'\nimport {\n  dateFormat,\n  dateTooltipFormat,\n  timeAgo,\n  formatNumberIntoCurrency,\n  createToast,\n} from '@/utils'\nimport {\n  Tooltip,\n  Breadcrumbs,\n  Avatar,\n  FileUploader,\n  Dropdown,\n  Tabs,\n  call,\n  createListResource,\n  createDocumentResource,\n  usePageMeta,\n  createResource,\n} from 'frappe-ui'\nimport { h, computed, ref } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\n\nconst props = defineProps({\n  organizationId: {\n    type: String,\n    required: true,\n  },\n})\n\nconst { getUser, isManager } = usersStore()\nconst { $dialog } = globalStore()\nconst { getDealStatus } = statusesStore()\nconst showSidePanelModal = ref(false)\nconst showQuickEntryModal = ref(false)\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst organization = createDocumentResource({\n  doctype: 'CRM Organization',\n  name: props.organizationId,\n  cache: ['organization', props.organizationId],\n  fields: ['*'],\n  auto: true,\n})\n\nasync function updateField(fieldname, value) {\n  await organization.setValue.submit({\n    [fieldname]: value,\n  })\n  createToast({\n    title: __('Organization updated'),\n    icon: 'check',\n    iconClasses: 'text-green-600',\n  })\n}\n\nconst breadcrumbs = computed(() => {\n  let items = [{ label: __('Organizations'), route: { name: 'Organizations' } }]\n\n  if (route.query.view || route.query.viewType) {\n    let view = getView(\n      route.query.view,\n      route.query.viewType,\n      'CRM Organization',\n    )\n    if (view) {\n      items.push({\n        label: __(view.label),\n        icon: view.icon,\n        route: {\n          name: 'Organizations',\n          params: { viewType: route.query.viewType },\n          query: { view: route.query.view },\n        },\n      })\n    }\n  }\n\n  items.push({\n    label: props.organizationId,\n    route: {\n      name: 'Organization',\n      params: { organizationId: props.organizationId },\n    },\n  })\n  return items\n})\n\nusePageMeta(() => {\n  return {\n    title: props.organizationId,\n  }\n})\n\nfunction validateFile(file) {\n  let extn = file.name.split('.').pop().toLowerCase()\n  if (!['png', 'jpg', 'jpeg'].includes(extn)) {\n    return __('Only PNG and JPG images are allowed')\n  }\n}\n\nasync function changeOrganizationImage(file) {\n  await call('frappe.client.set_value', {\n    doctype: 'CRM Organization',\n    name: props.organizationId,\n    fieldname: 'organization_logo',\n    value: file?.file_url || '',\n  })\n  organization.reload()\n}\n\nasync function deleteOrganization() {\n  $dialog({\n    title: __('Delete organization'),\n    message: __('Are you sure you want to delete this organization?'),\n    actions: [\n      {\n        label: __('Delete'),\n        theme: 'red',\n        variant: 'solid',\n        async onClick(close) {\n          await call('frappe.client.delete', {\n            doctype: 'CRM Organization',\n            name: props.organizationId,\n          })\n          close()\n          router.push({ name: 'Organizations' })\n        },\n      },\n    ],\n  })\n}\n\nfunction website(url) {\n  return url && url.replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '')\n}\n\nfunction openWebsite() {\n  if (!organization.doc.website)\n    createToast({\n      title: __('Website not found'),\n      icon: 'x',\n      iconClasses: 'text-red-600',\n    })\n  else window.open(organization.doc.website, '_blank')\n}\n\nconst showAddressModal = ref(false)\nconst _organization = ref({})\nconst _address = ref({})\n\nconst fieldsLayout = createResource({\n  url: 'crm.api.doc.get_sidebar_fields',\n  cache: ['fieldsLayout', props.organizationId],\n  params: { doctype: 'CRM Organization', name: props.organizationId },\n  auto: true,\n  transform: (data) => getParsedFields(data),\n})\n\nfunction getParsedFields(data) {\n  return data.map((section) => {\n    return {\n      ...section,\n      fields: computed(() =>\n        section.fields.map((field) => {\n          if (field.name === 'address') {\n            return {\n              ...field,\n              create: (value, close) => {\n                _organization.value.address = value\n                _address.value = {}\n                showAddressModal.value = true\n                close()\n              },\n              edit: async (addr) => {\n                _address.value = await call('frappe.client.get', {\n                  doctype: 'Address',\n                  name: addr,\n                })\n                showAddressModal.value = true\n              },\n            }\n          } else {\n            return field\n          }\n        }),\n      ),\n    }\n  })\n}\n\nconst tabIndex = ref(0)\nconst tabs = [\n  {\n    label: 'Deals',\n    icon: h(DealsIcon, { class: 'h-4 w-4' }),\n    count: computed(() => deals.data?.length),\n  },\n  {\n    label: 'Contacts',\n    icon: h(ContactsIcon, { class: 'h-4 w-4' }),\n    count: computed(() => contacts.data?.length),\n  },\n]\n\nconst deals = createListResource({\n  type: 'list',\n  doctype: 'CRM Deal',\n  cache: ['deals', props.organizationId],\n  fields: [\n    'name',\n    'organization',\n    'currency',\n    'annual_revenue',\n    'status',\n    'email',\n    'mobile_no',\n    'deal_owner',\n    'modified',\n  ],\n  filters: {\n    organization: props.organizationId,\n  },\n  orderBy: 'modified desc',\n  pageLength: 20,\n  auto: true,\n})\n\nconst contacts = createListResource({\n  type: 'list',\n  doctype: 'Contact',\n  cache: ['contacts', props.organizationId],\n  fields: [\n    'name',\n    'full_name',\n    'image',\n    'email_id',\n    'mobile_no',\n    'company_name',\n    'modified',\n  ],\n  filters: {\n    company_name: props.organizationId,\n  },\n  orderBy: 'modified desc',\n  pageLength: 20,\n  auto: true,\n})\n\nconst rows = computed(() => {\n  let list = []\n  list = !tabIndex.value ? deals : contacts\n\n  if (!list.data) return []\n\n  return list.data.map((row) => {\n    return !tabIndex.value ? getDealRowObject(row) : getContactRowObject(row)\n  })\n})\n\nconst columns = computed(() => {\n  return tabIndex.value === 0 ? dealColumns : contactColumns\n})\n\nfunction getDealRowObject(deal) {\n  return {\n    name: deal.name,\n    organization: {\n      label: deal.organization,\n      logo: props.organization?.organization_logo,\n    },\n    annual_revenue: formatNumberIntoCurrency(\n      deal.annual_revenue,\n      deal.currency,\n    ),\n    status: {\n      label: deal.status,\n      color: getDealStatus(deal.status)?.iconColorClass,\n    },\n    email: deal.email,\n    mobile_no: deal.mobile_no,\n    deal_owner: {\n      label: deal.deal_owner && getUser(deal.deal_owner).full_name,\n      ...(deal.deal_owner && getUser(deal.deal_owner)),\n    },\n    modified: {\n      label: dateFormat(deal.modified, dateTooltipFormat),\n      timeAgo: __(timeAgo(deal.modified)),\n    },\n  }\n}\n\nfunction getContactRowObject(contact) {\n  return {\n    name: contact.name,\n    full_name: {\n      label: contact.full_name,\n      image_label: contact.full_name,\n      image: contact.image,\n    },\n    email: contact.email_id,\n    mobile_no: contact.mobile_no,\n    company_name: {\n      label: contact.company_name,\n      logo: props.organization?.organization_logo,\n    },\n    modified: {\n      label: dateFormat(contact.modified, dateTooltipFormat),\n      timeAgo: __(timeAgo(contact.modified)),\n    },\n  }\n}\n\nconst dealColumns = [\n  {\n    label: __('Organization'),\n    key: 'organization',\n    width: '11rem',\n  },\n  {\n    label: __('Amount'),\n    key: 'annual_revenue',\n    width: '9rem',\n  },\n  {\n    label: __('Status'),\n    key: 'status',\n    width: '10rem',\n  },\n  {\n    label: __('Email'),\n    key: 'email',\n    width: '12rem',\n  },\n  {\n    label: __('Mobile no'),\n    key: 'mobile_no',\n    width: '11rem',\n  },\n  {\n    label: __('Deal owner'),\n    key: 'deal_owner',\n    width: '10rem',\n  },\n  {\n    label: __('Last modified'),\n    key: 'modified',\n    width: '8rem',\n  },\n]\n\nconst contactColumns = [\n  {\n    label: __('Name'),\n    key: 'full_name',\n    width: '17rem',\n  },\n  {\n    label: __('Email'),\n    key: 'email',\n    width: '12rem',\n  },\n  {\n    label: __('Phone'),\n    key: 'mobile_no',\n    width: '12rem',\n  },\n  {\n    label: __('Organization'),\n    key: 'company_name',\n    width: '12rem',\n  },\n  {\n    label: __('Last modified'),\n    key: 'modified',\n    width: '8rem',\n  },\n]\n</script>\n"],"names":["props","__props","getUser","isManager","usersStore","$dialog","globalStore","getDealStatus","statusesStore","showSidePanelModal","ref","showQuickEntryModal","route","useRoute","router","useRouter","organization","createDocumentResource","updateField","fieldname","value","createToast","breadcrumbs","computed","items","view","getView","usePageMeta","validateFile","file","extn","changeOrganizationImage","call","deleteOrganization","close","website","url","openWebsite","showAddressModal","_organization","_address","fieldsLayout","createResource","data","getParsedFields","section","field","addr","tabIndex","tabs","h","DealsIcon","_a","deals","ContactsIcon","contacts","createListResource","rows","list","row","getContactRowObject","getDealRowObject","columns","dealColumns","contactColumns","deal","formatNumberIntoCurrency","_b","dateFormat","dateTooltipFormat","timeAgo","contact"],"mappings":"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"}